{"version":3,"sources":["uni-app:///main.js","webpack:///F:/HBulider/uni-green-card/pages/mall/components/companyMallDetails.vue?ace2","webpack:///F:/HBulider/uni-green-card/pages/mall/components/companyMallDetails.vue?0bc3","webpack:///F:/HBulider/uni-green-card/pages/mall/components/companyMallDetails.vue?24da","webpack:///F:/HBulider/uni-green-card/pages/mall/components/companyMallDetails.vue?4c71","uni-app:///pages/mall/components/companyMallDetails.vue","webpack:///F:/HBulider/uni-green-card/pages/mall/components/companyMallDetails.vue?a63e","webpack:///F:/HBulider/uni-green-card/pages/mall/components/companyMallDetails.vue?f6c8"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,gI,6FAFmBA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC;AAGnBC,UAAU,CAACC,2BAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+H;AAC/H;AACsE;AACL;AACc;;;AAG/E;AACmL;AACnL,gBAAgB,0LAAU;AAC1B,EAAE,wFAAM;AACR,EAAE,6FAAM;AACR,EAAE,sGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,iGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,kRAEN;AACP,KAAK;AACL;AACA,aAAa,mWAEN;AACP,KAAK;AACL;AACA,aAAa,uPAEN;AACP,KAAK;AACL;AACA,aAAa,gQAEN;AACP,KAAK;AACL;AACA,aAAa,6SAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACrDA;AAAA;AAAA;AAAA;AAA+rB,CAAgB,6rBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACsJntB;;;;AAIA,wE;;;AAGA;AACA;AACA,YADA,EADA;;AAIA,MAJA,kBAIA;AACA;AACA,qBADA;AAEA,kBAFA;AAGA,sCAHA;AAIA,iBAJA;AAKA,YALA;AAMA,mBANA;AAOA,yBAPA;AAQA,wBARA;;AAUA,GAfA;AAgBA,QAhBA,kBAgBA,MAhBA,EAgBA;AACA;AACA;AACA;AACA;AACA;AACA,GAtBA;AAuBA,SAvBA,qBAuBA;AACA;AACA;AACA,GA1BA;AA2BA,SA3BA,qBA2BA;AACA;AACA,GA7BA;AA8BA;AACA;AACA,aAFA,qBAEA,KAFA,EAEA,IAFA,EAEA;AACA;AACA,oBADA;AAEA,kBAFA;AAGA;AACA,kBAJA;;AAMA,KATA;AAUA,QAVA,kBAUA;AACA;AACA,KAZA;AAaA;AACA,YAdA,sBAcA;AACA;AACA;AACA;AACA,qBADA;AAEA;AACA;AACA,SAJA;;AAMA;AACA;AACA,qCADA;AAEA,0BAFA;AAGA,wCAHA;AAIA,iEAJA;AAKA;AACA,wBADA,EALA;;;AASA;AACA;AACA,qCADA;AAEA,sBAFA;AAGA,sBAHA;;AAKA,UALA,CAKA;AACA;AACA;AACA,0BADA;AAEA,0BAFA;;AAIA,OAXA;AAYA,WAZA,CAYA;AACA;AACA,OAdA;AAeA,KAjDA;AAkDA;AACA,YAnDA,sBAmDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BADA;;AAGA;AACA,sBADA;AAEA,yBAFA;AAGA,0BAHA;;AAKA;AACA,OAfA,CAeA;AACA;AACA;AACA,KAvEA;AAwEA;AACA,aAzEA,qBAyEA,QAzEA,EAyEA,GAzEA,EAyEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBADA;AAEA;AACA,oBADA;AAEA,4BAFA;AAGA,kBAHA,EAFA;;;;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA,OAPA,EAOA,IAPA;AAQA,KApGA;AAqGA;AACA,SAtGA,iBAsGA,QAtGA,EAsGA,GAtGA,EAsGA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,+BADA;AAEA;AACA,4BADA;AAEA,oCAFA;AAGA,0BAHA,EAFA;;;;AASA;AACA,qCADA;;AAGA,aArBA,MAqBA;AACA;AACA;AACA;AACA,WA1BA,MA0BA;AACA;AACA;AACA,sCADA;;AAGA;AACA,SAlCA,CAkCA;AACA;AACA;AACA;AACA;;AAEA,KAnJA;AAoJA;AACA,QArJA,kBAqJA;;;;;AAKA;AACA,sEADA;AAEA;AACA;AACA;AACA,wCADA;AAEA,6BAFA;;AAIA;AACA,SATA;;;AAYA,KAtKA;AAuKA;AACA,qBAxKA,+BAwKA;AACA;AACA;AACA,oBADA;;AAGA;AACA;AACA,kBADA,EACA;AACA,qBAFA,EAEA;AACA;AACA,uCADA;AAEA;AALA;AAOA,UAPA,CAOA;AACA;AACA;AACA;AACA;AACA;AACA,OAbA;AAcA,WAdA,CAcA;AACA;AACA;AACA,OAjBA;AAkBA;AACA,KAjMA,EA9BA,E;;;;;;;;;;;;;AC7JA;AAAA;AAAA;AAAA;AAA0wC,CAAgB,isCAAG,EAAC,C;;;;;;;;;;;ACA9xC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/mall/components/companyMallDetails.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/mall/components/companyMallDetails.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./companyMallDetails.vue?vue&type=template&id=14e0d068&\"\nvar renderjs\nimport script from \"./companyMallDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./companyMallDetails.vue?vue&type=script&lang=js&\"\nimport style0 from \"./companyMallDetails.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../applications/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/mall/components/companyMallDetails.vue\"\nexport default component.exports","export * from \"-!../../../../../applications/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../applications/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../applications/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../applications/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../applications/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../applications/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./companyMallDetails.vue?vue&type=template&id=14e0d068&\"","var components\ntry {\n  components = {\n    uniNavBar: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-nav-bar/components/uni-nav-bar/uni-nav-bar\" */ \"@/uni_modules/uni-nav-bar/components/uni-nav-bar/uni-nav-bar.vue\"\n      )\n    },\n    uniDateformat: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-dateformat/components/uni-dateformat/uni-dateformat\" */ \"@/uni_modules/uni-dateformat/components/uni-dateformat/uni-dateformat.vue\"\n      )\n    },\n    uniRate: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-rate/components/uni-rate/uni-rate\" */ \"@/uni_modules/uni-rate/components/uni-rate/uni-rate.vue\"\n      )\n    },\n    uniPopup: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-popup/components/uni-popup/uni-popup\" */ \"@/uni_modules/uni-popup/components/uni-popup/uni-popup.vue\"\n      )\n    },\n    uniNumberBox: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-number-box/components/uni-number-box/uni-number-box\" */ \"@/uni_modules/uni-number-box/components/uni-number-box/uni-number-box.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../applications/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../applications/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../applications/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../applications/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../applications/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./companyMallDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../applications/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../applications/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../applications/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../applications/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../applications/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./companyMallDetails.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<uni-nav-bar leftIcon=\"back\" @clickLeft=\"back()\" height=\"46\" fixed left-text=\"商品详情\"  \r\n\t\t\tstatusBar>\r\n\t\t</uni-nav-bar>\r\n\r\n\t\t<!-- 企业用户查看商品详情 -->\r\n\t\t<view class=\"page\">\r\n\t\t\t<!-- 图片 -->\r\n\t\t\t<view class=\"goods\">\r\n\t\t\t\t<!-- 图片 -->\r\n\t\t\t\t<view class=\"goods-imgBox\">\r\n\t\t\t\t\t<image class=\"img\" :src=\"goodList.imgUrl\" mode=\"\"></image>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<!-- 信息 -->\r\n\t\t\t\t<view class=\"goods-info\">\r\n\t\t\t\t\t<!-- 标题 -->\r\n\t\t\t\t\t<view class=\"goods-info-title\">{{ goodList.assetSaleName }}</view>\r\n\r\n\t\t\t\t\t<!-- 单价 -->\r\n\t\t\t\t\t<view class=\"goods-info-price\">\r\n\t\t\t\t\t\t<!-- 单价 -->\r\n\t\t\t\t\t\t<view class=\"goods-info-price-num\">\r\n\t\t\t\t\t\t\t<!-- 标签 -->\r\n\t\t\t\t\t\t\t<Tag :typeObj=\"energyTypes\" :typeNum=\"goodList.energyType\"></Tag>\r\n\t\t\t\t\t\t\t<!-- 单价 -->\r\n\t\t\t\t\t\t\t<text>￥{{ goodList.price }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<!-- 库存 -->\r\n\t\t\t\t\t\t<view class=\"goods-info-price-inventory\">库存{{ goodList.stock }}张</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 商品信息 -->\r\n\t\t\t<view class=\"details\">\r\n\t\t\t\t<view class=\"details-title\">商品信息</view>\r\n\t\t\t\t<!-- 分割线 -->\r\n\t\t\t\t<view class=\"details-hr\" />\r\n\r\n\t\t\t\t<view class=\"details-info\">\r\n\t\t\t\t\t<view class=\"details-info-box\">\r\n\t\t\t\t\t\t<!-- 标题 -->\r\n\t\t\t\t\t\t<view class=\"details-info-box-left\">绿电生产最早时间：</view>\r\n\t\t\t\t\t\t<!-- 内容 -->\r\n\t\t\t\t\t\t<view class=\"details-info-box-right\">\r\n\t\t\t\t\t\t\t<uni-dateformat :date=\"goodList.resourceChainTime\" format=\"yyyy-MM-dd hh:mm:ss\">\r\n\t\t\t\t\t\t\t</uni-dateformat>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"details-info-box\">\r\n\t\t\t\t\t\t<!-- 标题 -->\r\n\t\t\t\t\t\t<view class=\"details-info-box-left\">所属公司：</view>\r\n\t\t\t\t\t\t<!-- 内容 -->\r\n\t\t\t\t\t\t<view class=\"details-info-box-right\">{{ goodList.companyName }}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"details-info-box\">\r\n\t\t\t\t\t\t<!-- 标题 -->\r\n\t\t\t\t\t\t<view class=\"details-info-box-left\">能源类型：</view>\r\n\t\t\t\t\t\t<!-- 内容 -->\r\n\t\t\t\t\t\t<view class=\"details-info-box-right\">{{ energyTypes[goodList.energyType] }}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"details-info-box\">\r\n\t\t\t\t\t\t<!-- 标题 -->\r\n\t\t\t\t\t\t<view class=\"details-info-box-left\">项目编号：</view>\r\n\t\t\t\t\t\t<!-- 内容 -->\r\n\t\t\t\t\t\t<view class=\"details-info-box-right details-info-box-width\">{{ goodList.assetSaleCode }}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"details-info-box\">\r\n\t\t\t\t\t\t<!-- 标题 -->\r\n\t\t\t\t\t\t<view class=\"details-info-box-left\">认证等级：</view>\r\n\t\t\t\t\t\t<!-- 内容 -->\r\n\t\t\t\t\t\t<view class=\"details-info-box-right\">\r\n\t\t\t\t\t\t\t<uni-rate :value=\"goodList.authenticationLevel\" size=\"20\" readonly />\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- 区别展示 -->\r\n\t\t\t\t\t<view class=\"\" v-if=\"userType == 1\">\r\n\t\t\t\t\t\t<view class=\"details-info-box\">\r\n\t\t\t\t\t\t\t<!-- 标题 -->\r\n\t\t\t\t\t\t\t<view class=\"details-info-box-left\">特殊说明：</view>\r\n\t\t\t\t\t\t\t<!-- 内容 -->\r\n\t\t\t\t\t\t\t<view class=\"details-info-box-right details-info-box-width\">\r\n\t\t\t\t\t\t\t\t<view class=\"\">1、{{ goodList.projectDesc }}</view>\r\n\t\t\t\t\t\t\t\t<view class=\"\">2、{{ '提交订单时，请上传签字盖章后的有效凭证（包含协议与付款记录等）' }}</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t<!-- 下载协议 -->\r\n\t\t\t\t\t\t<view class=\"details-info-box\">\r\n\t\t\t\t\t\t\t<view class=\"details-info-box-left\"></view>\r\n\t\t\t\t\t\t\t<view class=\"details-info-box-right\"><button size=\"mini\" type=\"primary\" plain=\"true\"\r\n\t\t\t\t\t\t\t\t\t@click=\"load\">下载协议</button></view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 购买 -->\r\n\t\t\t<view class=\"buyBox\">\r\n\t\t\t\t<!-- 说明 -->\r\n\t\t\t\t<view class=\"buyBox-title\">绿电积分购买后不支持退换，请您按需购买</view>\r\n\t\t\t\t<!-- 按钮 -->\r\n\t\t\t\t<button style=\"background-color: #6CBA18; color: #fff;\" @click=\"toBuy(userType, num)\">去购买</button>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 弹出层 -->\r\n\t\t\t<uni-popup ref=\"popup\" type=\"bottom\" background-color=\"#fff\" v-if=\"userType == 0\">\r\n\t\t\t\t<view class=\"operationPanel\">\r\n\t\t\t\t\t<!-- 标题 -->\r\n\t\t\t\t\t<view class=\"operationPanel-title\">请选择兑换数量</view>\r\n\r\n\t\t\t\t\t<!-- 信息 -->\r\n\t\t\t\t\t<view class=\"operationPanel-info\">\r\n\t\t\t\t\t\t<!-- 图片 -->\r\n\t\t\t\t\t\t<view class=\"operationPanel-info-img\">\r\n\t\t\t\t\t\t\t<image class=\"img\" :src=\"goodList.imgUrl\" mode=\"\"></image>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t<!-- 信息 -->\r\n\t\t\t\t\t\t<view class=\"operationPanel-info-box\">\r\n\t\t\t\t\t\t\t<!-- 单价 -->\r\n\t\t\t\t\t\t\t<view class=\"operationPanel-info-box-price\">\r\n\t\t\t\t\t\t\t\t￥\r\n\t\t\t\t\t\t\t\t<text>{{ goodList.price }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<!-- 库存 -->\r\n\t\t\t\t\t\t\t<view class=\"operationPanel-info-box-inventory\">库存{{ goodList.stock }}张</view>\r\n\t\t\t\t\t\t\t<!-- 交易数量 -->\r\n\t\t\t\t\t\t\t<view class=\"operationPanel-info-box-num\">\r\n\t\t\t\t\t\t\t\t<uni-number-box v-model=\"num\" :min=\"1\" :max=\"999999999\"></uni-number-box>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<!-- btn -->\r\n\t\t\t\t\t<view class=\"operationPanel-btn\">\r\n\t\t\t\t\t\t<button :loading=\"orderLoading\" style=\"background-color: #6CBA18; color: #fff;\"\r\n\t\t\t\t\t\t\t@click=\"makeOrder(userType, num)\">确定</button>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</uni-popup>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\t// import { momentDate } from '../../../utils/tools.js';\r\n\timport Tag from '@/components/tag-module/tag-module.vue';\r\n\timport {\r\n\t\tenergyTypes,\r\n\t\tback\r\n\t} from '../../../utils/public.js';\r\n\timport {\r\n\t\tFONT_BASE_URL\r\n\t} from '../../../utils/request.js';\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tTag\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tassetSaleId: '',\r\n\t\t\t\tgoodList: [],\r\n\t\t\t\tenergyTypes,\r\n\t\t\t\tuserType: 0,\r\n\t\t\t\tnum: 1,\r\n\t\t\t\torderId: null,\r\n\t\t\t\torderLoading: false,\r\n\t\t\t\tuserInfoStatus: \"\"\r\n\t\t\t};\r\n\t\t},\r\n\t\tonLoad(option) {\r\n\t\t\t// 获取\r\n\t\t\tif (option) {\r\n\t\t\t\tthis.assetSaleId = option.id;\r\n\t\t\t\tthis.userType = option.type;\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tlet userInfo = uni.getStorageSync('userInfo');\r\n\t\t\tthis.userInfoStatus = userInfo.status\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.getMallDetailData();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 提示\r\n\t\t\tgetPrompt(title, icon) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: title,\r\n\t\t\t\t\ticon: icon,\r\n\t\t\t\t\t// 透明蒙层\r\n\t\t\t\t\tmask: true\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tback() {\r\n\t\t\t\tback();\r\n\t\t\t},\r\n\t\t\t// 微信支付\r\n\t\t\torderPay() {\r\n\t\t\t\t// 获取userId\r\n\t\t\t\tlet userId = '';\r\n\t\t\t\tuni.getStorage({\r\n\t\t\t\t\tkey: 'userId',\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tuserId = res.data;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t// 获取参数\r\n\t\t\t\tlet params = {\r\n\t\t\t\t\tassetSaleId: this.goodList.id,\r\n\t\t\t\t\tquantity: this.num,\r\n\t\t\t\t\tprice: this.goodList.price * 100,\r\n\t\t\t\t\tamount: (this.num * this.goodList.price).toFixed(2) * 100,\r\n\t\t\t\t\tuserDto: {\r\n\t\t\t\t\t\tuserId: userId\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\t// 生成订单\r\n\t\t\t\tthis.$request({\r\n\t\t\t\t\t\tpath: '/api/payment/orderPay',\r\n\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\tparams: params\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(value => {\r\n\t\t\t\t\t\t// 返回值存入缓存\r\n\t\t\t\t\t\tuni.setStorage({\r\n\t\t\t\t\t\t\tkey: 'orderInfo',\r\n\t\t\t\t\t\t\tdata: value.data\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(reason => {\r\n\t\t\t\t\t\tconsole.log(reason);\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 销毁上一条订单\r\n\t\t\trollback() {\r\n\t\t\t\t// 后端销毁上一条订单方法什么也没做\r\n\t\t\t\ttry {\r\n\t\t\t\t\t// 获取orderId\r\n\t\t\t\t\tlet orderInfo = uni.getStorageSync('orderInfo');\r\n\t\t\t\t\tif (orderInfo != null && orderInfo != '') {\r\n\t\t\t\t\t\tlet orderId = orderInfo.orderId;\r\n\t\t\t\t\t\tlet path = '/api/payment/rollback';\r\n\t\t\t\t\t\tlet params = {\r\n\t\t\t\t\t\t\torderId: orderId\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tthis.$request({\r\n\t\t\t\t\t\t\tpath: path,\r\n\t\t\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\t\t\tparams: params\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tconsole.log(e);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 生成订单\r\n\t\t\tmakeOrder(userType, num) {\r\n\t\t\t\tthis.orderLoading = true;\r\n\t\t\t\t// 销毁上一条订单\r\n\t\t\t\tthis.rollback();\r\n\t\t\t\t// 微信支付\r\n\t\t\t\tthis.orderPay();\r\n\r\n\t\t\t\t// 在缓存中存值\r\n\t\t\t\tlet goodId = this.goodList.id;\r\n\t\t\t\tuni.setStorage({\r\n\t\t\t\t\tkey: 'orderVal',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tid: goodId,\r\n\t\t\t\t\t\tuserType: userType,\r\n\t\t\t\t\t\tnum: num\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// 跳转订单页\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t// let navData = this.goodList.id;\r\n\t\t\t\t\tthis.orderLoading = false;\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: `./companyOrder`,\r\n\t\t\t\t\t\t// ?navData=${navData}&userType=${userType}&num=${num}\r\n\t\t\t\t\t});\r\n\t\t\t\t}, 1000);\r\n\t\t\t},\r\n\t\t\t// 跳转详情页\r\n\t\t\ttoBuy(userType, num) {\r\n\t\t\t\t// 判断当前账户是否审核通过\r\n\t\t\t\tif (this.userInfoStatus !== 1 || this.userInfoStatus === 0 || this.userInfoStatus === 3) {\r\n\t\t\t\t\treturn this.getPrompt(\"没有已启用的账号用于交易\",\"none\")\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tlet hasLogin = uni.getStorageSync('hasLogin');\r\n\t\t\t\t\t\tif (hasLogin == true) {\r\n\t\t\t\t\t\t\tif (userType == 1) {\r\n\t\t\t\t\t\t\t\t// 企业\r\n\t\t\t\t\t\t\t\t// let navData = this.goodList.id;\r\n\t\t\t\t\t\t\t\t// uni.navigateTo({\r\n\t\t\t\t\t\t\t\t// \turl: `./companyOrder?navData=${navData}&userType=${userType}&num=${num}`\r\n\t\t\t\t\t\t\t\t// });\r\n\r\n\t\t\t\t\t\t\t\t// 在缓存中存值\r\n\t\t\t\t\t\t\t\tlet goodId = this.goodList.id;\r\n\t\t\t\t\t\t\t\tuni.setStorage({\r\n\t\t\t\t\t\t\t\t\tkey: 'orderVal',\r\n\t\t\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\t\t\tid: goodId,\r\n\t\t\t\t\t\t\t\t\t\tuserType: userType,\r\n\t\t\t\t\t\t\t\t\t\tnum: num\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\t\t\turl: `./companyOrder`\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t// 个人购买\r\n\t\t\t\t\t\t\t\tthis.$refs.popup.open('bottom');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// 未登录跳登录页面\r\n\t\t\t\t\t\t\tuni.switchTab({\r\n\t\t\t\t\t\t\t\turl: '../../login/index'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\t// error\r\n\t\t\t\t\t\tconsole.log(e);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\t// 下载协议\r\n\t\t\tload() {\r\n\t\t\t\t// #ifdef H5\r\n\t\t\t\twindow.open(FONT_BASE_URL + `/static/green-card-remove.docx`);\r\n\t\t\t\t// #endif\r\n\t\t\t\t// #ifdef APP || MP-WEIXIN\r\n\t\t\t\tuni.downloadFile({\r\n\t\t\t\t\turl: FONT_BASE_URL + `/static/green-card-remove.docx`,\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tif (res.statusCode === 200) {\r\n\t\t\t\t\t\t\tuni.openDocument({\r\n\t\t\t\t\t\t\t\tfilePath: res.tempFilePath,\r\n\t\t\t\t\t\t\t\tfileType: 'doc'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t// #endif\r\n\t\t\t},\r\n\t\t\t// 获取商品详情\r\n\t\t\tgetMallDetailData() {\r\n\t\t\t\t// 开启加载\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '加载中'\r\n\t\t\t\t});\r\n\t\t\t\tlet path = '/api/dataDisplay/homePageAssetSaleDetail';\r\n\t\t\t\tthis.$request({\r\n\t\t\t\t\t\tpath: path, // 路径\r\n\t\t\t\t\t\tmethod: 'GET', // GET、POST方法\r\n\t\t\t\t\t\tparams: {\r\n\t\t\t\t\t\t\tassetSaleId: this.assetSaleId\r\n\t\t\t\t\t\t} // 参数\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(value => {\r\n\t\t\t\t\t\t// 成功回调\r\n\t\t\t\t\t\tlet data = value.data;\r\n\t\t\t\t\t\t// data.resourceChainTime = momentDate(data.resourceChainTime);\r\n\t\t\t\t\t\tdata.price = (data.price / 1000).toFixed(2);\r\n\t\t\t\t\t\tthis.goodList = data;\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(reason => {\r\n\t\t\t\t\t\t// 失败回调\r\n\t\t\t\t\t\tconsole.log(请求失败);\r\n\t\t\t\t\t});\r\n\t\t\t\tuni.hideLoading();\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n\tpage {\r\n\t\tbackground-color: #F9F9F9;\r\n\t}\r\n\r\n\t.page {\r\n\t\tbackground-color: #F9F9F9;\r\n\t\tpadding-bottom: 1px;\r\n\t}\r\n\r\n\t.img {\r\n\t\theight: 100%;\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t/* 商品 */\r\n\t.goods {\r\n\t\tbackground-color: #fff;\r\n\t\tpadding-bottom: 10rpx;\r\n\t\tborder-radius: 25rpx;\r\n\t\toverflow: hidden;\r\n\r\n\t\t&-imgBox {\r\n\t\t\theight: 500rpx;\r\n\t\t\tborder-radius: 25rpx;\r\n\t\t\toverflow: hidden;\r\n\t\t}\r\n\r\n\t\t&-info {\r\n\t\t\tpadding-left: 30rpx;\r\n\t\t\tpadding-right: 10rpx;\r\n\t\t\tline-height: 70rpx;\r\n\r\n\t\t\t&-title {}\r\n\r\n\t\t\t&-price {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: space-between;\r\n\r\n\t\t\t\t&-num {\r\n\t\t\t\t\tdisplay: flex;\r\n\r\n\t\t\t\t\ttext {\r\n\t\t\t\t\t\tfont-size: 38rpx;\r\n\t\t\t\t\t\tcolor: #6aaf20;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t&-inventory {\r\n\t\t\t\t\tcolor: #999999;\r\n\t\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/* 信息 */\r\n\t.details {\r\n\t\tbackground-color: #fff;\r\n\t\tmargin-top: 20rpx;\r\n\t\tpadding: 20rpx;\r\n\t\tmargin-bottom: 150rpx;\r\n\t\tborder-radius: 25rpx;\r\n\t\toverflow: hidden;\r\n\r\n\t\t&-hr {\r\n\t\t\tbackground: #e0e3da;\r\n\t\t\theight: 5rpx;\r\n\t\t\tmargin-top: 20rpx;\r\n\t\t}\r\n\r\n\t\t&-info {\r\n\t\t\t&-box {\r\n\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\tmargin-top: 30rpx;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: space-between;\r\n\r\n\t\t\t\t&-left {\r\n\t\t\t\t\twidth: 260rpx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t&-right {\r\n\t\t\t\t\tword-wrap: break-word;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t&-width {\r\n\t\t\t\t\twidth: 390rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// 购买\r\n\t.buyBox {\r\n\t\tbackground-color: #F9F9F9;\r\n\t\tposition: fixed;\r\n\t\tleft: 0;\r\n\t\tbottom: 0;\r\n\t\tright: 0;\r\n\r\n\t\tview {\r\n\t\t\tfont-size: 22rpx;\r\n\t\t\tline-height: 40rpx;\r\n\t\t\ttext-align: center;\r\n\t\t\tcolor: #999999;\r\n\t\t}\r\n\t}\r\n\r\n\t// 操作面板\r\n\t.operationPanel {\r\n\t\t&-title {\r\n\t\t\tmargin-top: 10rpx;\r\n\t\t\tline-height: 80rpx;\r\n\t\t\ttext-align: center;\r\n\t\t\tfont-size: 40rpx;\r\n\t\t\tfont-weight: 500;\r\n\t\t}\r\n\r\n\t\t&-info {\r\n\t\t\tdisplay: flex;\r\n\t\t\tpadding: 10rpx 20rpx 15rpx 15rpx;\r\n\r\n\t\t\t&-img {\r\n\t\t\t\theight: 180rpx;\r\n\t\t\t\twidth: 230rpx;\r\n\t\t\t\tborder-radius: 25rpx;\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t}\r\n\r\n\t\t\t&-box {\r\n\t\t\t\tmargin-left: 25rpx;\r\n\t\t\t\theight: 180rpx;\r\n\r\n\t\t\t\tview {\r\n\t\t\t\t\tline-height: 60rpx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t&-price {\r\n\t\t\t\t\tcolor: #6aaf20;\r\n\t\t\t\t\tfont-size: 25rpx;\r\n\r\n\t\t\t\t\ttext {\r\n\t\t\t\t\t\tfont-size: 35rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t&-inventory {\r\n\t\t\t\t\tfont-size: 25rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t&-btn {\r\n\t\t\theight: 100rpx;\r\n\t\t}\r\n\t}\r\n</style>\r\n","import mod from \"-!../../../../../applications/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../applications/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../applications/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../applications/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../applications/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../applications/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../applications/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../applications/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../applications/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./companyMallDetails.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../../applications/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../applications/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../applications/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../applications/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../applications/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../applications/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../applications/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../applications/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../applications/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./companyMallDetails.vue?vue&type=style&index=0&lang=less&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1646793909998\n      var cssReload = require(\"F:/applications/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}